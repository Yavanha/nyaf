<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Project Configuration (TS) - nyaf Documentation</title>
  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Project Configuration (TS)";
    var mkdocs_page_input_path = "md/ts.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
<style>
  body, p, pre > code {
    font-size: 1.1em;
  }
  li code {
    font-size: 1.0em;
  }
  code {
    font-size: 1.0em;
    border: none;
    background-color: transparent;
    white-space: pre !important;
  }
  .wy-nav-content { max-width: none; }
  a.toctree-l4 {
    margin-left: 10px;
  }
  blockquote {
    border-left: 5px gray solid;
    background-color: lightgray;
    padding: 10px 10px 1px 10px;
  }
</style>


  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> nyaf Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../intro/">Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../learn/">Learn</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Project Configuration (TS)</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#project-configuration-with-typescript">Project Configuration with TypeScript</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#the-entry-file">The Entry File</a></li>
        
            <li><a class="toctree-l3" href="#typescript-configuration">TypeScript Configuration</a></li>
        
            <li><a class="toctree-l3" href="#webpack-configuration">WebPack Configuration</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../babel/">Project Configuration (JS)</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../config/">Configuration Files</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Core Library</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docs/lib/overview/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/template/">Template Language</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/jsx/">JSX / TSX</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/select/">Select Elements</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/smart/">Smart Components</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/lifecycle/">Life Cycle</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/attributes/">Attributes</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/directives/">Directives</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/events/">Events</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/router/">Router</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/shadowdom/">Shadow DOM</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/lib/services/">Services</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Forms Extension</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docs/forms/overview/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/forms/vm/">View Models</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/forms/nbind/">Data Binding</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/forms/validation/">Validation</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/forms/custombinders/">Custom Binders</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/forms/setup/">Setup</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Flux Store</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docs/store/overview/">Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/example/">The Store Types</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/globloc/">Global and Local Stores</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/dispose/">Disposing Subscriptions</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/effects/">Effects Mapping</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/updates/">Automatic Updates</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/store/setup/">Setup</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Comparision of @nyaf with...</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docs/comparision/angular/">...Angular</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/polymer/">...Polymer</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/preact/">...Preact</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/react/">...React</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/stencil/">...Stencil</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/svelte/">...Svelte</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/comparision/vue/">...Vue</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Internals</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../docs/internals/about/">About</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/internals/lic/">Licence</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/internals/start/">How it's being made</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">nyaf Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Project Configuration (TS)</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/joergkrause/nyaf/edit/master/docs/md/ts.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="project-configuration-with-typescript">Project Configuration with TypeScript<a class="headerlink" href="#project-configuration-with-typescript" title="Permanent link">#</a></h2>
<p>An <strong>@nyaf</strong> application consists of:</p>
<ol>
<li>An entry file for registering components, typically called <em>main.ts</em></li>
<li>At least one root component</li>
<li>The <em>index.html</em> file the browser loads first</li>
<li>The configuration for TypeScript, <em>tsconfig.json</em></li>
<li>The Packer / Builder setup;</li>
</ol>
<p>The best choice for a Packer is probably WebPack, in that case a <em>webpack.config.js</em> file is recommended.</p>
<h3 id="the-entry-file">The Entry File<a class="headerlink" href="#the-entry-file" title="Permanent link">#</a></h3>
<p>The recommended folder structure looks like this:
<style>
  code.txt { white-space: pre !important; }
</style></p>
<pre><code class="txt">|
\--\src
|  |-- index.html
|  |-- main.ts
|  \-- \components
|  |             |
|  |             \-- main.component.tsx
|  |
|  \-- \assets
|
|-- webpack.config.js
|-- tsconfig.json
</code></pre>

<p>The application starts with the code in <em>main.ts</em> and the basics structure looks like Figure A-1.</p>
<p><img alt="Figure A-1: Entry File" src="../assets/main_ts.png" /></p>
<h3 id="typescript-configuration">TypeScript Configuration<a class="headerlink" href="#typescript-configuration" title="Permanent link">#</a></h3>
<p>The TypeScript configuration is typical, but two things are crucial to know:</p>
<ol>
<li>You need to compile with the target "es2015" (minimum). ES 5 is explicitly not supported anymore.</li>
<li>The template language is a variety of JSX, so the setting <em>"jsx"</em> and <em>"reactNamespace"</em> are required.</li>
</ol>
<blockquote>
<p><strong>@nyaf</strong> does not use React, has no relation to React and has almost nothing in common. The setting just tricks the compiler to transpile the templates.</p>
</blockquote>
<pre><code class="json">{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;es2015&quot;,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;resolveJsonModule&quot;: true,
    &quot;sourceMap&quot;: true,
    &quot;lib&quot;: [&quot;es2018&quot;, &quot;es5&quot;, &quot;dom&quot;],
    &quot;jsx&quot;: &quot;react&quot;,
    &quot;reactNamespace&quot;: &quot;JSX&quot;,
    &quot;declaration&quot;: false,
    &quot;experimentalDecorators&quot;: true,
    &quot;noImplicitAny&quot;: false,
    &quot;suppressImplicitAnyIndexErrors&quot;: true,
    &quot;removeComments&quot;: false,
    &quot;outDir&quot;: &quot;out-tsc&quot;,
    &quot;baseUrl&quot;: &quot;./src&quot;,
    &quot;typeRoots&quot;: [
      &quot;node_modules/@types&quot;,
      &quot;src/types&quot;
    ]
  },
  &quot;files&quot;: [&quot;./src/main.ts&quot;]
}
</code></pre>

<p>First, the target must be "es2015" or higher. There are some native features used here that don't have polyfills. The recommended template language is JSX (or in TypeScript it's called TSX). It's not enforced, you can also use pure string templates, but all examples in this documentation and the snippets shown online are using JSX. Hence the following settings are highly recommended:</p>
<ul>
<li>"jsx": "react" -- this activates JSX, though we don't use React</li>
<li>"reactNamespace": "JSX" -- the name of the support class in <strong>@nyaf</strong> (this <strong>is</strong> mandatory if JSX is used)</li>
</ul>
<p>All other settings follow the common requirements of a typical TypeScript application.</p>
<h3 id="webpack-configuration">WebPack Configuration<a class="headerlink" href="#webpack-configuration" title="Permanent link">#</a></h3>
<p>WebPack is the recommended packer tool, but you can use any other if you like. There is no dependency.</p>
<p>A typical configuration will look like this:</p>
<pre><code class="js">const dev = process.env.NODE_ENV === 'dev';
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

// Main entry point
const indexConfig = {
  template: './src/index.html',
  inject: 'body',
  baseHref: './'
};

const webpackConfig = {
  mode: 'development',
  // How source maps are generated : style of source mapping
  devtool: dev ? 'eval-cheap-module-source-map' : false,
  // Development server configuration
  devServer: {
    historyApiFallback: true,
    contentBase: path.join(__dirname, 'dist'),
    compress: true,
    port: 9000
  },
  // Where webpack looks to start building the bundle
  entry: {
    'app': './src/main.ts' // App entry point
  },
  // How the different types of modules within
  // a project will be treated
  module: {
    rules: [
      { test: /\.ts|\.tsx$/, loader: 'ts-loader' },
      // All files with a '.scss' extension
      // will be handled by sass-loader
      {
        test: /\.(scss)$/,
        use: [
          'style-loader',
          'css-loader',
          'sass-loader'
        ]
      },
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      },
      {
        test: /\.(png|jpeg)$/,
        loader: 'url-loader?limit=8192'},
      {
        test: /\.(woff|woff2)$/,
        loader: 'file-loader'
      }
    ]
  },
  // Configure how modules are resolved
  resolve: {
    extensions: ['.ts', '.tsx', '.js', '.scss']
  },
  // How and where webpack should output
  // bundles, assets and anything else
  output: {
    path: path.resolve('./dist'),
    filename: '[name].js'
  },
  // Customize the webpack build process with additional plugins
  plugins: [
    new HtmlWebpackPlugin(indexConfig)
  ]
};

// Export the config
module.exports = webpackConfig;
</code></pre>

<p>See the comments inline for important explanations. Apart from this the configuration has no special settings and follows the common rules of a typical WebPack setup.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../babel/" class="btn btn-neutral float-right" title="Project Configuration (JS)">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../learn/" class="btn btn-neutral" title="Learn"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/joergkrause/nyaf/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../learn/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../babel/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
